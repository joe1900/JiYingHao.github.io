(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a49d8270"],{2693:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Breadcrumbs",{attrs:{items:t.items}}),a("v-card",[a("v-card-title",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:"",sm4:"",md2:""}},[a("v-text-field",{attrs:{label:"真实姓名"},model:{value:t.NAME,callback:function(e){t.NAME=e},expression:"NAME"}})],1),a("v-spacer"),a("v-flex",{attrs:{xs2:""}},[t._l(t.root_path,function(e,s){return["/api/v1/manages/add_manage"==e.url?a("Module",{key:s}):t._e()]}),a("Module1",{ref:"module1"}),a("Module2",{ref:"module2"})],2)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts_,"total-items":0,"rows-per-page-text":"每页行数","rows-per-page-items":t.pagingList,"disable-initial-sort":!0,loading:t.loader,"hide-actions":!0},on:{"update:pagination":t.info},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{dblclick:function(a){return t.infoMessage(e.item)}}},[a("td",[t._v(t._s(e.index+1))]),a("td",{staticClass:"text-xs-centre"},[t._v(t._s(e.item.user_name))]),a("td",{staticClass:"text-xs-centre"},[t._v(t._s(e.item.true_name))]),a("td",{staticClass:"text-xs-centre"},[t._v(t._s(e.item.role_name))]),a("td",{staticClass:"text-xs-centre"},[t._v(t._s(t._f("cover")(e.item.phone)))]),a("td",{staticClass:"text-xs-centre"},[t._v(t._s(e.item.email))]),a("td",{staticClass:"text-xs-centre"},[t._v(t._s(t._f("time")(e.item.create_time)))]),a("td",{staticClass:"text-xs-centre"},[a("v-btn",{attrs:{text:"",icon:""},on:{click:function(a){return t.infoMessage(e.item)}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("visibility")])],1),t._l(t.root_path,function(s,r){return["/api/v1/manages/modify_manage"==s.url?a("v-btn",{key:r,attrs:{text:"",icon:""},on:{click:function(a){return t.modifyMessage(e.item)}}},[a("v-icon",{attrs:{color:"warning"}},[t._v("edit")])],1):t._e()]}),t._l(t.root_path,function(s,r){return["/api/v1/manages/delete_manage"==s.url?a("v-btn",{key:r,attrs:{text:"",icon:""},on:{click:function(a){return t.delMessage(e.item.id)}}},[a("v-icon",{attrs:{color:"error"}},[t._v("clear")])],1):t._e()]})],2)])]}},{key:"no-data",fn:function(){return[a("p",{staticClass:"p_text"},[t._v(" 没有更多数据了 :( ")])]},proxy:!0},{key:"pageText",fn:function(e){return[t._v("当前 "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" 总共 "+t._s(e.itemsLength))]}}])})],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog_logout,callback:function(e){t.dialog_logout=e},expression:"dialog_logout"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("删除操作")]),a("v-card-text",[t._v(" 确认删除该账号吗？确认删除将不可恢复 ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog_logout=!1}}},[t._v("取消")]),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.delete_manage}},[t._v("确认删除")])],1)],1)],1)],1)},r=[],i=(a("4917"),a("5fdf")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{color:"primary",flat:"",dark:""}},s),[t._v(" + 创建管理/代理人员账号")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("创建管理/代理人员账号")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*管理/代理人员登录账号",maxlength:"16",type:"text",required:""},model:{value:t.userData.user_name,callback:function(e){t.$set(t.userData,"user_name",e)},expression:"userData.user_name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*登录密码",type:"text",maxlength:"26",required:""},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*管理/代理人员登录真实姓名",type:"text",maxlength:"16",required:""},model:{value:t.userData.true_name,callback:function(e){t.$set(t.userData,"true_name",e)},expression:"userData.true_name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*邮箱",type:"text",maxlength:"36",required:""},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*电话",type:"text",maxlength:"11",required:""},model:{value:t.userData.phone,callback:function(e){t.$set(t.userData,"phone",e)},expression:"userData.phone"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:["男","女"],label:"*选择性别",required:""},model:{value:t.userData.gender,callback:function(e){t.$set(t.userData,"gender",e)},expression:"userData.gender"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:t.rolesList,label:"*选择一个角色",required:""},model:{value:t.userData.role_id,callback:function(e){t.$set(t.userData,"role_id",e)},expression:"userData.role_id"}})],1)],1)],1),a("small",[t._v("*该操作是创建一个代理或者一个内部管理员工的登录账号，请谨慎分配账号的权限!")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("取消")]),a("v-btn",{attrs:{color:"info darken-1"},on:{click:function(e){return t.addManages(e)}}},[t._v("提交")])],1)],1)],1)],1)],1)},n=[],l=(a("ac6a"),{data:function(){return{dialog:!1,rolesData:[],rolesList:[],userData:{user_name:"",password:"",gender:"",email:"",phone:"",role_id:"",true_name:""}}},mounted:function(){this.roleList()},methods:{roleList:function(){var t=this;this.$axios({method:"post",url:this.$apis.URL.manages_query_role_list,data:{}}).then(function(e){0===e.data.result?(e.data.datas.forEach(function(e){t.rolesList.push(e.role_name)}),t.rolesData=e.data.datas):t.$Dialog.getProductCheckResult_({text:e.data.message,timeout:3e3,snackbar:!0})}).catch(function(e){t.$Dialog.getProductCheckResult_({text:"😡"+e,timeout:3e3,snackbar:!0})})},addManages:function(){var t=this;return this.userData.user_name.length<5?(this.$Dialog.getProductCheckResult_({text:"😡账号为字母/数字组合（5-16）位",timeout:3e3,snackbar:!0}),!1):this.userData.password.length<5?(this.$Dialog.getProductCheckResult_({text:"😡密码为字母/数字组合（6-26）位",timeout:3e3,snackbar:!0}),!1):this.userData.true_name.length<2?(this.$Dialog.getProductCheckResult_({text:"😡请输入真实姓名（2-16）个字符",timeout:3e3,snackbar:!0}),!1):this.userData.email.length<5?(this.$Dialog.getProductCheckResult_({text:"😡请输入正确的邮箱地址",timeout:3e3,snackbar:!0}),!1):11!==this.userData.phone.length?(this.$Dialog.getProductCheckResult_({text:"😡请输入正确的手机号码",timeout:3e3,snackbar:!0}),!1):""==this.userData.gender.length?(this.$Dialog.getProductCheckResult_({text:"😡请选择管理/代理人员性别",timeout:3e3,snackbar:!0}),!1):""==this.userData.role_id.length?(this.$Dialog.getProductCheckResult_({text:"😡请选择一个权限角色",timeout:3e3,snackbar:!0}),!1):(this.rolesData.forEach(function(e){if(t.userData.role_id==e.role_name)return t.userData.role_id=e.role_id,!1}),this.userData.gender,this.userData.gender=1,void this.$axios({method:"post",url:this.$apis.URL.manages_add_manage,data:this.userData}).then(function(e){0===e.data.result?(t.$Dialog.getProductCheckResult_({text:"已添加了新的账号".concat(t.userData.user_name),timeout:3e3,snackbar:!0}),t.$parent.$parent.info(),t.dialog=!1):t.$Dialog.getProductCheckResult_({text:"😡"+e.data.message,timeout:3e3,snackbar:!0}),t.userData.gender="",t.userData.role_id=""}).catch(function(e){t.$Dialog.getProductCheckResult_({text:"😡"+e,timeout:3e3,snackbar:!0})}))}}}),u=l,c=a("2877"),d=a("6544"),_=a.n(d),m=a("8336"),h=a("b0af"),v=a("99d9"),g=a("12b2"),f=a("a523"),x=a("169a"),p=a("0e8f"),D=a("a722"),b=a("b56d"),k=a("9910"),C=a("2677"),$=Object(c["a"])(u,o,n,!1,null,"b392bbda",null),V=$.exports;_()($,{VBtn:m["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:g["a"],VContainer:f["a"],VDialog:x["a"],VFlex:p["a"],VLayout:D["a"],VSelect:b["a"],VSpacer:k["a"],VTextField:C["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("账号详细信息")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("p",{staticClass:"root_p"},[t._v(" 登录账号 "),a("v-chip",[t._v(t._s(t.data.user_name))])],1),a("p",{staticClass:"root_p"},[t._v(" 登录密码 "),a("v-chip",[t._v(" ******** ")])],1),a("p",{staticClass:"root_p"},[t._v(" 真实姓名 "),a("v-chip",[t._v(t._s(t.data.true_name))])],1),a("p",{staticClass:"root_p"},[t._v(" 性别 "),a("v-chip",[t._v(t._s(1==t.data.gender?"男":"女"))])],1),a("p",{staticClass:"root_p"},[t._v(" 角色 "),a("v-chip",[t._v(t._s(t.data.role_name))])],1),a("p",{staticClass:"root_p"},[t._v(" 手机号码 "),a("v-chip",[t._v(t._s(t._f("cover")(t.data.phone)))])],1),a("p",{staticClass:"root_p"},[t._v(" 邮箱 "),a("v-chip",[t._v(t._s(t.data.email))])],1),a("p",{staticClass:"root_p"},[t._v(" 创建时间 "),a("v-chip",[t._v(t._s(t._f("time")(t.data.create_time)))])],1),a("p",{staticClass:"root_p"},[t._v(" 修改时间 "),a("v-chip",[t._v(t._s(t._f("time")(t.data.update_time)))])],1)])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"info darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v("确认")])],1)],1)],1)],1)],1)},w=[],R={data:function(){return{dialog:!1,data:{create_time:"",email:"",gender:"",id:"",order_sn:"",phone:"",role_id:"",role_name:"",status:"",true_name:"",update_time:"",user_name:""}}},mounted:function(){},methods:{dialogShow:function(t){this.dialog=t.state,this.data=t.list}}},P=R,L=(a("759d"),a("cc20")),M=Object(c["a"])(P,y,w,!1,null,"994120c2",null),q=M.exports;_()(M,{VBtn:m["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:g["a"],VChip:L["a"],VContainer:f["a"],VDialog:x["a"],VLayout:D["a"],VSpacer:k["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("修改账号信息")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{disabled:"",label:"*管理/代理人员登录账号",maxlength:"16",type:"text",required:""},model:{value:t.userData.user_name,callback:function(e){t.$set(t.userData,"user_name",e)},expression:"userData.user_name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*登录密码(修改将会覆盖之前的密码)",type:"text",maxlength:"26",required:""},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*管理/代理人员登录真实姓名",type:"text",maxlength:"16",required:""},model:{value:t.userData.true_name,callback:function(e){t.$set(t.userData,"true_name",e)},expression:"userData.true_name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*邮箱",type:"text",maxlength:"36",required:""},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"*电话",type:"text",maxlength:"11",required:""},model:{value:t.userData.phone,callback:function(e){t.$set(t.userData,"phone",e)},expression:"userData.phone"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:["男","女"],label:"*选择性别",required:""},model:{value:t.userData.gender,callback:function(e){t.$set(t.userData,"gender",e)},expression:"userData.gender"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:t.rolesList,label:"*选择一个角色",required:""},model:{value:t.userData.role_id,callback:function(e){t.$set(t.userData,"role_id",e)},expression:"userData.role_id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("取消")]),a("v-btn",{attrs:{color:"info darken-1"},on:{click:t.modifyMessage}},[t._v("确认修改")])],1)],1)],1)],1)],1)},E=[],T={data:function(){return{dialog:!1,rolesList:[],rolesData:[],userData:{email:"",gender:"",id:"",phone:"",role_id:"",true_name:"",user_name:"",password:""}}},mounted:function(){this.roleList()},methods:{roleList:function(){var t=this;this.$axios({method:"post",url:this.$apis.URL.manages_query_role_list,data:{}}).then(function(e){0===e.data.result?(e.data.datas.forEach(function(e){t.rolesList.push(e.role_name)}),t.rolesData=e.data.datas):t.$Dialog.getProductCheckResult_({text:e.data.message,timeout:3e3,snackbar:!0})}).catch(function(e){t.$Dialog.getProductCheckResult_({text:"😡"+e,timeout:3e3,snackbar:!0})})},dialogShow:function(t){var e=this;this.dialog=t.state,this.userData.email=t.list.email,this.userData.gender=t.list.gender,this.userData.id=t.list.id,this.userData.phone=t.list.phone,this.userData.role_id=t.list.role_id,this.userData.true_name=t.list.true_name,this.userData.user_name=t.list.user_name,this.userData.password=t.list.password,1==this.userData.gender?this.userData.gender="男":this.userData.gender="女",this.rolesData.forEach(function(t){if(e.userData.role_id==t.role_id)return e.userData.role_id=t.role_name,!1})},modifyMessage:function(){var t=this;return this.userData.true_name.length<2?(this.$Dialog.getProductCheckResult_({text:"请输入真实姓名（2-16）个字符",timeout:3e3,snackbar:!0}),!1):this.userData.email.length<5?(this.$Dialog.getProductCheckResult_({text:"请输入正确的邮箱地址",timeout:3e3,snackbar:!0}),!1):11!==this.userData.phone.length?(this.$Dialog.getProductCheckResult_({text:"请输入正确的手机号码",timeout:3e3,snackbar:!0}),!1):""==this.userData.gender.length?(this.$Dialog.getProductCheckResult_({text:"请选择管理/代理人员性别",timeout:3e3,snackbar:!0}),!1):""==this.userData.role_id.length?(this.$Dialog.getProductCheckResult_({text:"请选择一个权限角色",timeout:3e3,snackbar:!0}),!1):(this.rolesData.forEach(function(e){if(t.userData.role_id==e.role_name)return t.userData.role_id=e.role_id,!1}),this.userData.gender,this.userData.gender=1,void this.$axios({method:"post",url:this.$apis.URL.manages_modify_manage,data:this.userData}).then(function(e){0===e.data.result?(t.$Dialog.getProductCheckResult_({text:"账号信息已修改，操作完成！",timeout:3e3,snackbar:!0}),t.dialog=!1,t.userData.gender="",t.userData.role_id="",t.$parent.$parent.info()):t.$Dialog.getProductCheckResult_({text:e.data.message,timeout:3e3,snackbar:!0})}).catch(function(e){t.$Dialog.getProductCheckResult_({text:"😡"+e,timeout:3e3,snackbar:!0})}))}}},j=T,A=(a("f1b0"),Object(c["a"])(j,S,E,!1,null,"3e22084f",null)),O=A.exports;_()(A,{VBtn:m["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:g["a"],VContainer:f["a"],VDialog:x["a"],VFlex:p["a"],VLayout:D["a"],VSelect:b["a"],VSpacer:k["a"],VTextField:C["a"]});var B=a("b12f"),F={components:{Breadcrumbs:i["a"],Module:V,Module1:q,Module2:O},data:function(){return{NAME:"",dialog_logout:!1,id:null,pagingList:[100,{text:"100",value:100}],loader:!1,page:0,items:[{text:"首页",disabled:!1,to:"/home"},{text:"子账号人员列表",disabled:!1,to:"/account"}],headers:[{text:"#",align:"left",sortable:!1,value:"name"},{text:"账号",value:"fat",sortable:!1},{text:"真实姓名",value:"fat",sortable:!1},{text:"角色",value:"calories",sortable:!1},{text:"手机",value:"carbs",sortable:!1},{text:"邮箱",value:"protein",sortable:!1},{text:"创建时间",value:"iron",sortable:!1},{text:"操作",value:"iron",sortable:!1}],desserts:[],root_path:this.$cookie.getLocalStorage("root_path").root_path}},computed:{desserts_:function(){var t=this;return this.desserts.filter(function(e){return e.true_name.match(t.NAME)})}},methods:{loader_:function(){var t=this;this.loader=!0,setTimeout(function(){return t.loader=!1},500)},info:function(t){var e=this;this.loader=!0,this.$axios({method:"post",url:B["a"].URL.manages_query_manage,data:{id:-1,level:1}}).then(function(t){0===t.data.result?e.desserts=t.data.datas:e.$Dialog.getProductCheckResult_({text:t.data.message,timeout:3e3,snackbar:!0}),e.loader=!1}).catch(function(t){e.$Dialog.getProductCheckResult_({text:"😡"+t,timeout:3e3,snackbar:!0})})},adminAdd:function(){this.info()},modifyMessage:function(t){var e={state:!0,list:t};this.$refs.module2.dialogShow(e)},infoMessage:function(t){var e={state:!0,list:t};this.$refs.module1.dialogShow(e)},delMessage:function(t){this.id=t,this.dialog_logout=!0},delete_manage:function(){var t=this;this.$axios({method:"post",url:B["a"].URL.manages_delete_manage,data:{id:this.id}}).then(function(e){0===e.data.result?(t.$Dialog.getProductCheckResult_({text:"账号已成功删除",timeout:3e3,snackbar:!0}),t.info(),t.dialog_logout=!1):t.$Dialog.getProductCheckResult_({text:e.data.message,timeout:3e3,snackbar:!0})}).catch(function(e){t.$Dialog.getProductCheckResult_({text:"😡"+e,timeout:3e3,snackbar:!0})})}},watch:{}},U=F,N=(a("9bfd"),a("8fea")),J=a("132d"),I=Object(c["a"])(U,s,r,!1,null,"62d1f85e",null);e["default"]=I.exports;_()(I,{VBtn:m["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:g["a"],VDataTable:N["a"],VDialog:x["a"],VFlex:p["a"],VIcon:J["a"],VLayout:D["a"],VSpacer:k["a"],VTextField:C["a"]})},"759d":function(t,e,a){"use strict";var s=a("cb3f"),r=a.n(s);r.a},9910:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var s=a("80d2"),r=a("a523"),i=a("549c"),o=a("0e8f"),n=a("a722"),l=Object(s["f"])("spacer","div","v-spacer");r["a"],i["a"],o["a"],n["a"]},"9bfd":function(t,e,a){"use strict";var s=a("c756"),r=a.n(s);r.a},a523:function(t,e,a){"use strict";a("db6d");var s=a("e8f2");e["a"]=Object(s["a"])("container")},a722:function(t,e,a){"use strict";a("db6d");var s=a("e8f2");e["a"]=Object(s["a"])("layout")},af12:function(t,e,a){},c756:function(t,e,a){},cb3f:function(t,e,a){},f1b0:function(t,e,a){"use strict";var s=a("af12"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-a49d8270.50aeb09c.js.map